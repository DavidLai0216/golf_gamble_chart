<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>â›³ é«˜çƒåšå¼ˆé”äººæˆç¸¾å¡</title>
    <style>
        :root { --primary: #1b5e20; --bg: #f4f7f6; --accent: #ef6c00; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); margin: 0; padding: 10px; }
        .card { background: white; border-radius: 12px; padding: 15px; margin-bottom: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .hidden { display: none; }
        h2 { color: var(--primary); font-size: 1.2rem; margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 8px; }
        
        /* è¨­å®šé é¢æ¨£å¼ */
        .config-group { margin-bottom: 15px; border: 1px solid #ddd; padding: 10px; border-radius: 8px; }
        .player-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; margin-bottom: 10px; }
        .player-row input { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 5px; text-align: center; box-sizing: border-box; }
        .btn-start { background: var(--primary); color: white; border: none; width: 100%; padding: 15px; border-radius: 8px; font-size: 1.1rem; font-weight: bold; cursor: pointer; }

        /* éŠæˆ²è¡¨æ ¼æ¨£å¼ */
        .table-wrapper { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; min-width: 500px; }
        th, td { border: 1px solid #eee; padding: 8px 4px; text-align: center; }
        th { background: var(--primary); color: white; font-size: 13px; }
        input[type="number"] { width: 45px; height: 35px; border: 1px solid #ccc; border-radius: 4px; text-align: center; font-size: 16px; }
        
        /* è®“æ¡¿æŒ‰éˆ• */
        .hdcp-btn { font-size: 11px; background: #f0f0f0; border: 1px solid #ccc; border-radius: 4px; padding: 4px; cursor: pointer; width: 45px; margin-top: 5px; }
        .hdcp-btn.active { background: var(--accent); color: white; border-color: #e65100; }

        /* çµç®—æ¨£å¼ */
        .summary-row { font-weight: bold; font-size: 15px; }
        .win { color: #d32f2f; }
        .lose { color: #1976d2; }
    </style>
</head>
<body>

<div id="setupPage" class="card">
    <h2>1. å¡«å¯«çƒå“¡å§“å</h2>
    <div class="player-row">
        <input type="text" id="n0" value="çƒå“¡A">
        <input type="text" id="n1" value="çƒå“¡B">
        <input type="text" id="n2" value="çƒå“¡C">
        <input type="text" id="n3" value="çƒå“¡D">
    </div>

    <h2>2. é¸æ“‡æƒ³ç©çš„éŠæˆ²</h2>
    <div class="config-group">
        <label><input type="checkbox" id="gVegas" checked> æ‹‰æ–¯ç¶­åŠ æ–¯ (Las Vegas)</label>
        <div style="margin-left: 20px; font-size: 14px; margin-top: 5px;">
            <label><input type="checkbox" id="vFlip" checked> å•Ÿç”¨æŠ“é³¥ç¿»ç‰Œ</label><br>
            åˆ†çµ„ï¼š<select id="vPair"><option value="6">æ¯ 6 æ´æ›æ­æª”</option><option value="9">æ¯ 9 æ´æ›</option><option value="0">å›ºå®š (A+B vs C+D)</option></select>
        </div>
    </div>

    <div class="config-group">
        <label><input type="checkbox" id="gFourBall"> å››äººå››çƒ (Best Ball)</label>
        <div style="margin-left: 20px; font-size: 14px; margin-top: 5px;">
            åˆ†çµ„ï¼šå›ºå®š (A+B vs C+D)
        </div>
    </div>

    <div class="config-group">
        <label><input type="checkbox" id="gSkins"> Skins (å²ä¼°åƒå¹¾)</label>
        <div style="margin-left: 20px; font-size: 14px; margin-top: 5px;">
            <label><input type="checkbox" id="sCarry" checked> å¹³æ‰‹é»æ•¸ç´¯ç© (Carry Over)</label><br>
            é©—è­‰é–€æª»ï¼š<select id="sVal"><option value="4">Par</option><option value="5">Bogey</option><option value="99">ä¸é©—è­‰</option></select>
        </div>
    </div>

    <div class="config-group">
        <label><input type="checkbox" id="gScratch"> Scratch (ç´”æ¯”ç¸½æ¡¿)</label>
    </div>

    <button class="btn-start" onclick="startGame()">ç¢ºèªè¨­å®šï¼Œé–‹å§‹è¨˜éŒ„ â›³</button>
</div>

<div id="gamePage" class="hidden">
    <div class="card">
        <h2 id="currentStatus">æˆç¸¾è¼¸å…¥</h2>
        <div class="table-wrapper">
            <table>
                <thead><tr id="tableHead"><th>æ´</th><th>A</th><th>B</th><th>C</th><th>D</th></tr></thead>
                <tbody id="mainBody"></tbody>
            </table>
        </div>
    </div>

    <div class="card">
        <h2>ğŸ’° å³æ™‚çµç®—ç¸½è¦½</h2>
        <table>
            <thead><tr><th>çƒå“¡</th><th>æ‹‰æ–¯</th><th>Skins</th><th>BestBall</th><th>ç¸½æ¡¿</th></tr></thead>
            <tbody id="summaryBody"></tbody>
        </table>
